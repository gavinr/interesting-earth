import{r as s,ad as i,ac as d,t as f}from"./index.a8738f47.js";function g(t,e){return f(e)||!e.mode?t?"absolute-height":"on-the-ground":e.mode}function h(t,e){return g(!!s(t)&&t.hasZ,e)}function E(t){const e=m(t),n=h(t.geometry,e);return{mode:n,offset:s(e)&&n!=="on-the-ground"?i(e.offset,0)*d(i(e.unit,"meters")):0}}function m(t){return t.layer&&"elevationInfo"in t.layer?t.layer.elevationInfo:null}function P(t,e,n,o=null){return v(t,e.x,e.y,e.hasZ?e.z:0,e.spatialReference,n,o)}function p(t,e,n,o,a=null){return v(t,e[0],e[1],e.length>2?e[2]:0,n,o,a)}function v(t,e,n,o,a,l,u=null){if(f(l))return;const r=s(u)?u.mode:"absolute-height";if(r==="on-the-ground")return 0;const{absoluteZ:c}=b(e,n,o,a,t,l);return Z(c,e,n,o,a,t,u,r)}function b(t,e,n,o,a,l){const u=s(l.offset)?l.offset:0;switch(l.mode){case"absolute-height":return{absoluteZ:n+u,elevation:0};case"on-the-ground":{const r=i(a.elevationProvider.getElevation(t,e,0,o,"ground"),0);return{absoluteZ:r,elevation:r}}case"relative-to-ground":{const r=i(a.elevationProvider.getElevation(t,e,n,o,"ground"),0);return{absoluteZ:n+r+u,elevation:r}}case"relative-to-scene":{const r=i(a.elevationProvider.getElevation(t,e,n,o,"scene"),0);return{absoluteZ:n+r+u,elevation:r}}}}function Z(t,e,n,o,a,l,u,r){const c=s(u)&&s(u.offset)?u.offset:0;switch(r){case"absolute-height":return t-c;case"relative-to-ground":return t-(i(l.elevationProvider.getElevation(e,n,o,a,"ground"),0)+c);case"relative-to-scene":return t-(i(l.elevationProvider.getElevation(e,n,o,a,"scene"),0)+c)}}const $={mode:"absolute-height",offset:0};export{b as d,P as f,$ as m,h as s,E as u,p as v};
